{"version":3,"file":"jforms_jquery.js","mappings":"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","sources":["webpack://assets/webpack/bootstrap","webpack://assets/./src/jforms_jquery/jFormsJQControlBoolean.js","webpack://assets/webpack/runtime/compat get default export","webpack://assets/webpack/runtime/define property getters","webpack://assets/webpack/runtime/hasOwnProperty shorthand","webpack://assets/external var \"$\"","webpack://assets/./src/jforms_jquery/jFormsJQ.js","webpack://assets/./src/jforms_jquery/jFormsJQControlChoice.js","webpack://assets/./src/jforms_jquery/jFormsJQControlColor.js","webpack://assets/./src/jforms_jquery/jFormsJQControlConfirm.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlEmail.js","webpack://assets/./src/jforms_jquery/jFormsJQControlGroup.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHexadecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQControlInteger.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv4.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv6.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlSecret.js","webpack://assets/./src/jforms_jquery/jFormsJQControlString.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime2.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlUrl.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorAlert.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQForm.js","webpack://assets/./src/jforms_jquery/jforms_jquery.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with boolean\n */\nexport default function jFormsJQControlBoolean(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlBoolean.prototype.check = function (val, jfrm) {\n    return (val == true || val == false);\n};\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = $;","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Dominique Papin\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2008 Dominique Papin\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * form manager\n */\nconst jFormsJQ = {\n    _forms: {},\n\n    tForm: null,\n    selectFillUrl : '',\n\n    config : {},\n\n    _submitListener : function(ev) {\n        let frm = jFormsJQ.getForm(ev.target.attributes.getNamedItem(\"id\").value);\n\n        $(ev.target).trigger('jFormsUpdateFields');\n\n        let submitOk = true;\n        try {\n            for (let i=0; i< frm.preSubmitHandlers.length; i++) {\n                if (!frm.preSubmitHandlers[i](ev))\n                    submitOk = false;\n            }\n\n            if (!jFormsJQ.verifyForm(ev.target))\n                submitOk = false;\n\n            for (let j=0; j< frm.postSubmitHandlers.length; j++) {\n                if (!frm.postSubmitHandlers[j](ev))\n                    submitOk = false;\n            }\n        }\n        catch(e) {\n            return false;\n        }\n        return submitOk;\n    },\n\n    /**\n     * @param {jFormsJQForm} aForm\n     */\n    declareForm : function(aForm){\n        this._forms[aForm.name] = aForm;\n        $('#'+aForm.name).bind('submit', jFormsJQ._submitListener);\n    },\n\n    getForm : function (name) {\n        return this._forms[name];\n    },\n\n    /**\n     *  @param {Element} frmElt  the <form> element\n     */\n    verifyForm : function(frmElt) {\n        this.tForm = this._forms[frmElt.attributes.getNamedItem(\"id\").value]; // we cannot use getAttribute for id because a bug with IE\n        let valid = true;\n        this.tForm.errorDecorator.start(this.tForm);\n        for(let i =0; i < this.tForm.controls.length; i++){\n            if (!this.verifyControl(this.tForm.controls[i], this.tForm))\n                valid = false;\n        }\n        if(!valid)\n            this.tForm.errorDecorator.end();\n        return valid;\n    },\n\n    /**\n     * @param {jFormsJQControl}  ctrl     a jform control\n     * @param {jFormsJQForm}      frm      the jform object\n     */\n    verifyControl : function (ctrl, frm) {\n        let val;\n        if(typeof ctrl.getValue == 'function') {\n            val = ctrl.getValue();\n        }\n        else {\n            let elt = frm.element.elements[ctrl.name];\n            if (!elt) return true; // sometimes, all controls are not generated...\n            val = this.getValue(elt);\n        }\n\n        if (val === null || val === false) {\n            if (ctrl.required) {\n                frm.errorDecorator.addError(ctrl, 1);\n                return false;\n            }\n        }\n        else {\n            if(!ctrl.check(val, frm)){\n                if (!(\"getChild\" in ctrl)) {\n                    // don't output error for groups/choice, errors on child have already been set\n                    frm.errorDecorator.addError(ctrl, 2);\n                }\n                return false;\n            }\n        }\n        return true;\n    },\n\n    /**\n     * @param {Element} elt\n     */\n    getValue : function (elt){\n        if(elt.nodeType) { // this is a node\n            let val, values = [];\n            switch (elt.nodeName.toLowerCase()) {\n                case \"input\":\n                    if (elt.getAttribute('type') === 'checkbox') {\n                        return elt.checked;\n                    }\n                    /* falls through */\n                case \"textarea\":\n                    val = $.trim(elt.value);\n                    return (val !== '' ? val:null);\n                case \"select\":\n                    if (!elt.multiple) {\n                        return (elt.value!==''?elt.value:null);\n                    }\n                    for (let i = 0; i < elt.options.length; i++) {\n                        if (elt.options[i].selected) {\n                            values.push(elt.options[i].value);\n                        }\n                    }\n                    if (values.length) {\n                        return values;\n                    }\n                    return null;\n            }\n        } else if(this.isCollection(elt)){\n            // this is a NodeList of radio buttons or multiple checkboxes\n            let values = [];\n            for (let i = 0; i < elt.length; i++) {\n                let item = elt[i];\n                if (item.checked)\n                    values.push(item.value);\n            }\n            if(values.length) {\n                if (elt[0].getAttribute('type') === 'radio')\n                    return values[0];\n                return values;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * @param {Element} elt\n     */\n    hasClass: function (elt,clss) {\n        return $(elt).hasClass(clss);\n    },\n    addClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).addClass(clss);\n            }\n        } else {\n            $(elt).addClass(clss);\n        }\n    },\n    removeClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).removeClass(clss);\n            }\n        } else {\n            $(elt).removeClass(clss);\n        }\n    },\n    setAttribute: function(elt, name, value){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].setAttribute(name, value);\n            }\n        } else {\n            elt.setAttribute(name, value);\n        }\n    },\n    removeAttribute: function(elt, name){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].removeAttribute(name);\n            }\n        } else {\n            elt.removeAttribute(name);\n        }\n    },\n    /**\n     * @param {Element} elt\n     */\n    isCollection: function(elt) {\n        if (typeof HTMLCollection != \"undefined\" && elt instanceof HTMLCollection) {\n            return true;\n        }\n        if (typeof NodeList != \"undefined\" && elt instanceof NodeList) {\n            return true;\n        }\n        if (elt instanceof Array)\n            return true;\n        if (elt.length != undefined && (elt.localName == undefined || elt.localName == 'SELECT' || elt.localName != 'select'))\n            return true;\n        return false;\n    }\n};\n\nexport default jFormsJQ;\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * choice control\n */\nexport default function jFormsJQControlChoice(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.items = {};\n    this.readOnly = false;\n}\n\njFormsJQControlChoice.prototype = {\n    addControl : function (ctrl, itemValue) {\n        if (this.items[itemValue] === undefined) {\n            this.items[itemValue] = [];\n        }\n        if (ctrl) { // a choice item can be empty\n            this.items[itemValue].push(ctrl);\n            ctrl.formName = this.formName;\n        }\n    },\n    getChild : function (aControlName) {\n        for (var it in this.items) {\n            for (var i=0; i < this.items[it].length; i++) {\n                var c = this.items[it][i];\n                if (c.name == aControlName)\n                    return c;\n            }\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if(this.items[val] == undefined)\n            return false;\n\n        var list = this.items[val];\n        var valid = true;\n        for(var i=0; i < list.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(list[i], jfrm);\n            if (!ctrlvalid)\n                valid = false;\n        }\n        return valid;\n    },\n    activate : function (val) {\n        var frmElt = document.getElementById(this.formName);\n        for(var j in this.items) {\n            var list = this.items[j];\n            var htmlItem = document.getElementById(this.formName+'_'+this.name+'_'+j+'_item');\n            if (htmlItem) {\n                if (val == j) {\n                    jFormsJQ.addClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.removeClass(htmlItem, \"jforms-notselected\");\n                }\n                else {\n                    jFormsJQ.removeClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.addClass(htmlItem, \"jforms-notselected\");\n                }\n            }\n            for(var i=0; i < list.length; i++) {\n                var ctl = list[i];\n                if(typeof ctl.deactivate == 'function'){\n                    if (ctl.readOnly)\n                        ctl.deactivate(true);\n                    else\n                        ctl.deactivate(val != j);\n                    continue;\n                }\n                var elt = frmElt.elements[ctl.name];\n                if (val == j && !ctl.readOnly) {\n                    jFormsJQ.removeAttribute(elt, \"disabled\");\n                    jFormsJQ.removeClass(elt, \"jforms-disabled\");\n                } else {\n                    jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                    jFormsJQ.addClass(elt, \"jforms-disabled\");\n                }\n            }\n        }\n    }\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for color code\n */\nexport default function jFormsJQControlColor(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlColor.prototype.check = function (val, jfrm) {\n    return (val.search(/^#[a-f0-9A-F]{6}$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * confirm control\n */\nexport default function jFormsJQControlConfirm(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this._masterControl = name.replace(/_confirm$/,'');\n}\n\njFormsJQControlConfirm.prototype.check = function(val, jfrm) {\n    if(jFormsJQ.getValue(jfrm.element.elements[this._masterControl]) !== val)\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with Date\n */\nexport default function jFormsJQControlDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.multiFields = false;\n    this.minDate = null;\n    this.maxDate = null;\n    this.readOnly = false;\n}\n\njFormsJQControlDate.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDate.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val();\n    if (v === '--')\n        return null;\n    return v;\n};\njFormsJQControlDate.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Nigoki\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2009 Nigoki\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n/**\n * control with Datetime\n */\nexport default function jFormsJQControlDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minDate = null;\n    this.maxDate = null;\n    this.multiFields = false;\n    this.readOnly = false;\n}\n\njFormsJQControlDatetime.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let th = parseInt(t[4],10);\n    let tm = parseInt(t[5],10);\n    let ts = 0;\n    if(t[7] != null && t[7] != \"\") {\n        ts = parseInt(t[7],10);\n    }\n    let dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDatetime.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val() + ' '\n        + $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    let secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if (secondsControl.attr('type') !== 'hidden') {\n        v += ':'+secondsControl.val();\n        if (v === '-- ::') {\n            return null;\n        }\n    }\n    else if (v === '-- :')\n        return null;\n    return v;\n};\njFormsJQControlDatetime.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Decimal\n */\nexport default function jFormsJQControlDecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlDecimal.prototype.check = function (val, jfrm) {\n    if (!(-1 != val.search(/^\\s*[+-]?\\d+(\\.\\d+)?\\s*$/))) return false;\n    if (this.minValue != -1 && parseFloat(val) < this.minValue) return false;\n    if (this.maxValue != -1 && parseFloat(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with email\n */\nexport default function jFormsJQControlEmail(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlEmail.prototype.check = function (val, jfrm) {\n    return (val.search(/^((\"[^\"f\\n\\r\\t\\b]+\")|([\\w!#$%&'*+-~/^`|{}]+(\\.[\\w!#$%&'*+-~/^`|{}]+)*))@((\\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * group control\n */\nexport default function jFormsJQControlGroup(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n    this.children = [];\n    this.hasCheckbox = false;\n}\n\njFormsJQControlGroup.prototype = {\n    addControl : function (ctrl, itemValue) {\n        this.children.push(ctrl);\n        ctrl.formName = this.formName;\n    },\n    getChild : function (aControlName) {\n        for (var i=0; i < this.children.length; i++) {\n            var c = this.children[i];\n            if (c.name == aControlName)\n                return c;\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if (this.hasCheckbox) {\n            var chk = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n            if (!chk.checked) {\n                return true;\n            }\n        }\n        var valid = true;\n        for(var i=0; i < this.children.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(this.children[i], jfrm);\n            if (!ctrlvalid) {\n                valid = false;\n            }\n        }\n        return valid;\n    },\n    activate: function(yes) {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (checkboxItem) {\n            if (yes) {\n                checkboxItem.setAttribute('checked', 'true');\n            }\n            else {\n                checkboxItem.removeAttribute('checked');\n            }\n            this.showActivate();\n        }\n    },\n    showActivate : function () {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (!this.hasCheckbox || !checkboxItem) {\n            return;\n        }\n        var fieldset = document.getElementById(this.formName+'_'+this.name);\n        var frmElt = document.getElementById(this.formName);\n\n        var toactivate = checkboxItem.checked;\n        if (toactivate) {\n            jFormsJQ.removeClass(fieldset, \"jforms-notselected\");\n        }\n        else {\n            jFormsJQ.addClass(fieldset, \"jforms-notselected\");\n        }\n        for(var i=0; i < this.children.length; i++) {\n            var ctl = this.children[i];\n            if(typeof ctl.deactivate == 'function'){\n                if (ctl.readOnly) {\n                    ctl.deactivate(true);\n                } else {\n                    ctl.deactivate(!toactivate);\n                }\n                continue;\n            }\n            var elt = frmElt.elements[ctl.name];\n            if (toactivate && !ctl.readOnly) {\n                jFormsJQ.removeAttribute(elt, \"disabled\");\n                jFormsJQ.removeClass(elt, \"jforms-disabled\");\n            } else {\n                jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                jFormsJQ.addClass(elt, \"jforms-disabled\");\n            }\n        }\n    }\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Hexadecimal\n */\nexport default function jFormsJQControlHexadecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlHexadecimal.prototype.check = function (val, jfrm) {\n    return (val.search(/^0x[a-f0-9A-F]+$/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * control with HTML content generated by a wysiwyg editor\n */\nexport default function jFormsJQControlHtml(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.readOnly = false;\n}\n\njFormsJQControlHtml.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    return true;\n};\njFormsJQControlHtml.prototype.getValue = function () {\n    var frm = jFormsJQ.getForm(this.formName);\n    var elt = frm.element.elements[this.name];\n    if (!elt) return null;\n    var val = jFormsJQ.getValue(elt);\n    if (val == null)\n        return null;\n    val = val.replace(/<(img|object|video|svg|embed)[^>]*>/gi, 'TAG'); //tags which are contents\n    val = val.replace(/<\\/?[\\S][^>]*>/gi, '');\n    val = val.replace(/&[a-z]+;/gi, '');\n    val = $.trim(val);\n    if (val =='')\n        return null;\n    return val;\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Integer\n */\nexport default function jFormsJQControlInteger(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlInteger.prototype.check = function (val, jfrm) {\n    if (!(-1 !== val.search(/^\\s*[+-]?\\d+\\s*$/))) return false;\n    if (this.minValue !== -1 && parseInt(val) < this.minValue) return false;\n    if (this.maxValue !== -1 && parseInt(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv4\n */\nexport default function jFormsJQControlIpv4(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv4.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/);\n    if(t)\n        return (t[1] < 256 && t[2] < 256 && t[3] < 256 && t[4] < 256);\n    return false;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv6\n */\nexport default function jFormsJQControlIpv6(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv6.prototype.check = function (val, jfrm) {\n    return (val.search(/^([a-f0-9]{1,4})(:([a-f0-9]{1,4})){7}$/i) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with localedate\n */\nexport default function jFormsJQControlLocaleDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDate.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n    }\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if (yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with LocaleDateTime\n */\nexport default function jFormsJQControlLocaleDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDatetime.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, th, tm, ts, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }\n    var dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for secret input\n */\nexport default function jFormsJQControlSecret(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlSecret.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with string\n */\nexport default function jFormsJQControlString(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlString.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Adrien Lagroy\n * @contributor  Laurent Jouanneau\n * @copyright    2020 Adrien Lagroy, 2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with time for jForms\n */\nexport default function jFormsJQControlTime2(name, label) {\n    this.name = name;\n    this.label = label;\n    this.multiFields = false;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minTime = null;\n    this.maxTime = null;\n    this.readOnly = false;\n}\n\njFormsJQControlTime2.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\njFormsJQControlTime2.prototype.getValue = function(){\n    if (!this.multiFields) {\n        var val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val !=='' ? val : null);\n    }\n\n    var controlId = '#' + this.formName + '_' + this.name;\n    var v = $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    var secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if(secondsControl.attr('type') !== 'hidden'){\n        v += ':'+secondsControl.val();\n        if(v == '::')\n            return null;\n    }\n    else if(v == ':')\n        return null;\n    return v;\n};\njFormsJQControlTime2.prototype.deactivate = function(deactivate){\n    var controlId = '#' + this.formName + '_' + this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with time\n */\nexport default function jFormsJQControlTime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n}\n\njFormsJQControlTime.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minTime !== null && val < this.minTime) || (this.maxTime !== null && val > this.maxTime))\n        return false;\n    else\n        return true;\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Url\n */\nexport default function jFormsJQControlUrl(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlUrl.prototype.check = function (val, jfrm) {\n    return (val.search(/^[a-z]+:\\/\\/((((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))((\\/)|$)/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * Decorator to display errors in an alert dialog box\n */\nexport default function jFormsJQErrorDecoratorAlert(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorAlert.prototype = {\n    start : function(form){\n        this.message = '';\n    },\n    addError : function(control, messageType){\n        if(messageType == 1){\n            this.message  +=\"* \"+control.errRequired + \"\\n\";\n        }else if(messageType == 2){\n            this.message  +=\"* \"+control.errInvalid + \"\\n\";\n        }else{\n            this.message  += \"* Error on '\"+control.label+\"' field\\n\";\n        }\n    },\n    end : function(){\n        if(this.message != ''){\n            alert(this.message);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n\nexport default function jFormsJQErrorDecoratorHtml(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorHtml.prototype = {\n    start : function(form){\n        this.message = '';\n        this.form = form;\n        $(\"#\"+form.name+\" .jforms-error\").removeClass('jforms-error');\n        $('#'+this.form.name+'_errors').empty().hide();\n    },\n    addError : function(control, messageType){\n        var elt = this.form.element.elements[control.name];\n        if (elt && elt.nodeType) {\n            $(elt).addClass('jforms-error');\n        }\n        var name = control.name.replace(/\\[\\]/, '');\n        $(\"#\"+this.form.name+\"_\"+name+\"_label\").addClass('jforms-error');\n\n        if(messageType == 1){\n            this.message  += '<li class=\"error\"> '+control.errRequired + \"</li>\";\n        }else if(messageType == 2){\n            this.message  += '<li class=\"error\"> ' +control.errInvalid + \"</li>\";\n        }else{\n            this.message  += '<li class=\"error\"> Error on \\''+control.label+\"' </li>\";\n        }\n    },\n    end : function(){\n        var errid = this.form.name+'_errors';\n        var ul = document.getElementById(errid);\n        if(this.message != ''){\n            if (!ul) {\n                ul = document.createElement('ul');\n                ul.setAttribute('class', 'jforms-error-list');\n                ul.setAttribute('id', errid);\n                $(this.form.element).first().before(ul);\n            }\n            var jul = $(ul);\n            location.hash = \"#\"+errid;\n            jul.hide().html(this.message).fadeIn();\n        }\n        else if (ul) {\n            $(ul).hide();\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Vincent viaud, Steven Jehannet\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2011 Steven Jehannet, 2010 Vincent viaud\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQ from './jFormsJQ.js';\nimport $ from 'jquery';\n\n/**\n * represents a form\n */\nexport default function jFormsJQForm(name, selector, id){\n    // the jelix selector corresponding to the jforms object\n    this.selector = selector;\n\n    // the jforms id (id given to jforms::get)\n    this.formId = id;\n\n    // the value of the id attribute\n    this.name = name;\n\n    this.controls = [];\n    this.errorDecorator =  new jFormsJQErrorDecoratorHtml();\n    this.element = $('#'+name).get(0);\n\n    // list of dependencies. Values are list of controls to update when a\n    // control (key is its name) is modified\n    this.allDependencies = {};\n    this.updateInProgress = false;\n    this.controlsToUpdate = [];\n    this.preSubmitHandlers = [];\n    this.postSubmitHandlers = [];\n}\n\n\njFormsJQForm.prototype={\n    /**\n     * @param jFormsJQControl ctrl\n     */\n    addControl : function(ctrl){\n        this.controls.push(ctrl);\n        ctrl.formName = this.name;\n    },\n\n    setErrorDecorator : function (decorator){\n        this.errorDecorator = decorator;\n    },\n\n    /**\n     * @return jFormsJQControl\n     */\n    getControl : function(aControlName) {\n        var ctrls = this.controls;\n        for(var i=0; i < ctrls.length; i++){\n            if (ctrls[i].name == aControlName) {\n                return ctrls[i];\n            }\n            else if (ctrls[i].getChild){\n                var child = ctrls[i].getChild(aControlName);\n                if (child)\n                    return child;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * declare a list as a dynamic list: its possible values change when an\n     * other control is modified.\n     * @param controlName name of the control corresponding to the html list to update\n     */\n    declareDynamicFill : function (controlName) {\n        var ctrl = this.getControl(controlName);\n        // dependencies property contains name of controls that provide values\n        // used as criterion to retrieve list of values for controlName\n        if (!ctrl.dependencies)\n            return;\n\n        var me = this;\n        // the control has some dependencies : we put a listener\n        // on these dependencies, so when these dependencies\n        // change, we retrieve the new content of the control\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var depName = ctrl.dependencies[i];\n            var dep = this.element.elements[depName];\n            if (this.allDependencies[depName] === undefined) {\n                this.allDependencies[depName] = [controlName];\n                $(dep).change(function() {\n                    me.updateLinkedElements(depName);\n                });\n            }\n            else {\n                this.allDependencies[depName].push(controlName);\n            }\n        }\n    },\n\n    /**\n     * update the given list that depends from an other control.\n     *\n     * Useful if you know that this list has changed at the backend side.\n     *\n     * @param controlName the name of the list to update\n     */\n    updateDynamicList : function(controlName) {\n        var ctrl = this.getControl(controlName);\n        if (!ctrl.dependencies) {\n            return;\n        }\n        this.controlsToUpdate.push(controlName);\n        this.dynamicFillAjax();\n    },\n\n    /**\n     * update the content of all elements which depends of the value of the given\n     * control\n     * @param string controlName\n     */\n    updateLinkedElements : function (controlName) {\n        if (this.updateInProgress) // we don't want to call same ajax request...\n            return;\n        this.updateInProgress = true;\n        this.buildOrderedControlsList(controlName);\n        // we now have the list of controls to update, in the reverse order\n        // let's start the update\n        this.dynamicFillAjax();\n    },\n\n    buildOrderedControlsList : function(controlName) {\n        // we should build a graph, to update elements in the right order\n        this.controlsToUpdate = [];\n        var alreadyCheckedControls = [];\n        var checkedCircularDependency = [];\n        var me = this;\n        var buildListDependencies = function (controlName) {\n            if (checkedCircularDependency[controlName] === true)\n                throw \"Circular reference !\";\n            checkedCircularDependency[controlName] = true;\n\n            var list = me.allDependencies[controlName];\n            if (list !== undefined) {\n                for (var j=0; j< list.length; j++) {\n                    if (alreadyCheckedControls[list[j]] !== true) {\n                        buildListDependencies(list[j]);\n                    }\n                }\n            }\n            checkedCircularDependency[controlName] = false;\n            alreadyCheckedControls[controlName] = true;\n            me.controlsToUpdate.push(controlName);\n        };\n\n        var list = this.allDependencies[controlName];\n        if (list !== undefined) {\n            for (var i=0; i< list.length; i++) {\n                checkedCircularDependency = [];\n                if (alreadyCheckedControls[list[i]] !== true) {\n                    buildListDependencies(list[i]);\n                }\n            }\n        }\n    },\n\n    /**\n     * It sends the values of dependencies of a control,\n     * and then we retrieve the new values of this control\n     */\n    dynamicFillAjax : function () {\n        var ctrlname = this.controlsToUpdate.pop();\n        if (!ctrlname) {\n            this.updateInProgress = false;\n            this.controlsToUpdate = [];\n            return;\n        }\n        var ctrl = this.getControl(ctrlname);\n        var token = this.element.elements['__JFORMS_TOKEN__'];\n        if (typeof token == \"undefined\" ) {\n            token = '';\n        }\n        else\n            token = token.value;\n\n        var param = {\n            '__form': this.selector,\n            '__formid' : this.formId,\n            '__JFORMS_TOKEN__' : token,\n            '__ref' : ctrl.name.replace('[]','')\n        };\n\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var n = ctrl.dependencies[i];\n            param[n] = jFormsJQ.getValue(this.element.elements[n]);\n        }\n\n        var elt = this.element.elements[ctrl.name];\n        var eltValue = elt.value;\n        var me = this;\n\n        $.post(jFormsJQ.selectFillUrl, param,\n            function(data){\n                if(elt.nodeType && elt.nodeName.toLowerCase() == 'select') {\n                    var select = $(elt).eq(0);\n                    var emptyitem = select.children('option[value=\"\"]').detach();\n                    select.empty();\n                    if(emptyitem)\n                        select.append(emptyitem);\n                    $.each(data, function(i, item){\n                        if (emptyitem && item.value == '') {\n                            // do not add empty item if it already exists.\n                            return;\n                        }\n                        if(typeof item.items == 'object'){\n                            select.append('<optgroup label=\"'+item.label+'\"/>');\n                            var optgroup = select.children('optgroup[label=\"'+item.label+'\"]').eq(0);\n                            $.each(item.items, function(i,item){\n                                 optgroup.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                            });\n                        }\n                        else\n                            select.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                    });\n                }\n                if (me.controlsToUpdate.length) {\n                    me.dynamicFillAjax();\n                }\n                else {\n                    me.updateInProgress = false;\n                }\n            }, \"json\");\n    },\n\n    addSubmitHandler : function (handler, beforeCheck) {\n        if (beforeCheck) {\n            this.preSubmitHandlers.push(handler);\n        }\n        else\n            this.postSubmitHandlers.push(handler);\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQControlBoolean from './jFormsJQControlBoolean.js';\nimport jFormsJQControlChoice from './jFormsJQControlChoice.js';\nimport jFormsJQControlColor from './jFormsJQControlColor.js';\nimport jFormsJQControlConfirm from './jFormsJQControlConfirm.js';\nimport jFormsJQControlDate from './jFormsJQControlDate.js';\nimport jFormsJQControlDatetime from './jFormsJQControlDatetime.js';\nimport jFormsJQControlDecimal from './jFormsJQControlDecimal.js';\nimport jFormsJQControlEmail from './jFormsJQControlEmail.js';\nimport jFormsJQControlGroup from './jFormsJQControlGroup.js';\nimport jFormsJQControlHexadecimal from './jFormsJQControlHexadecimal.js';\nimport jFormsJQControlHtml from './jFormsJQControlHtml.js';\nimport jFormsJQControlInteger from './jFormsJQControlInteger.js';\nimport jFormsJQControlIpv4 from './jFormsJQControlIpv4.js';\nimport jFormsJQControlIpv6 from './jFormsJQControlIpv6.js';\nimport jFormsJQControlLocaleDate from './jFormsJQControlLocaleDate.js';\nimport jFormsJQControlLocaleDatetime from './jFormsJQControlLocaleDatetime.js';\nimport jFormsJQControlSecret from './jFormsJQControlSecret.js';\nimport jFormsJQControlString from './jFormsJQControlString.js';\nimport jFormsJQControlTime2 from './jFormsJQControlTime2.js';\nimport jFormsJQControlTime from './jFormsJQControlTime.js';\nimport jFormsJQControlUrl from './jFormsJQControlUrl.js';\nimport jFormsJQErrorDecoratorAlert from './jFormsJQErrorDecoratorAlert.js';\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQForm from './jFormsJQForm.js';\nimport jFormsJQ from './jFormsJQ.js';\n\n\nvar __jforms_jquery = {\n    jFormsJQ,\n    jFormsJQForm,\n    jFormsJQErrorDecoratorHtml,\n    jFormsJQErrorDecoratorAlert,\n    jFormsJQControlUrl,\n    jFormsJQControlTime,\n    jFormsJQControlTime2,\n    jFormsJQControlString,\n    jFormsJQControlSecret,\n    jFormsJQControlLocaleDatetime,\n    jFormsJQControlLocaleDate,\n    jFormsJQControlIpv6,\n    jFormsJQControlIpv4,\n    jFormsJQControlInteger,\n    jFormsJQControlHtml,\n    jFormsJQControlHexadecimal,\n    jFormsJQControlGroup,\n    jFormsJQControlEmail,\n    jFormsJQControlDecimal,\n    jFormsJQControlDatetime,\n    jFormsJQControlDate,\n    jFormsJQControlConfirm,\n    jFormsJQControlColor,\n    jFormsJQControlChoice,\n    jFormsJQControlBoolean\n};\n\nfor (var o in __jforms_jquery) {\n    window[o] = __jforms_jquery[o];\n}\n\n"],"names":["__webpack_require__","jFormsJQControlBoolean","name","label","this","required","errInvalid","errRequired","readOnly","n","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","check","val","jfrm","$","jFormsJQ","_forms","tForm","selectFillUrl","config","_submitListener","ev","frm","getForm","target","attributes","getNamedItem","value","trigger","submitOk","i","preSubmitHandlers","length","verifyForm","j","postSubmitHandlers","e","declareForm","aForm","bind","frmElt","valid","errorDecorator","start","controls","verifyControl","end","ctrl","getValue","elt","element","elements","addError","nodeType","values","nodeName","toLowerCase","getAttribute","checked","multiple","options","selected","push","isCollection","item","hasClass","clss","addClass","removeClass","setAttribute","removeAttribute","HTMLCollection","NodeList","Array","undefined","localName","jFormsJQControlChoice","items","jFormsJQControlColor","jFormsJQControlConfirm","_masterControl","replace","jFormsJQControlDate","multiFields","minDate","maxDate","jFormsJQControlDatetime","jFormsJQControlDecimal","minValue","maxValue","jFormsJQControlEmail","jFormsJQControlGroup","children","hasCheckbox","jFormsJQControlHexadecimal","jFormsJQControlHtml","minLength","maxLength","jFormsJQControlInteger","jFormsJQControlIpv4","jFormsJQControlIpv6","jFormsJQControlLocaleDate","lang","jFormsJQControlLocaleDatetime","jFormsJQControlSecret","regexp","jFormsJQControlString","jFormsJQControlTime2","minTime","maxTime","jFormsJQControlTime","jFormsJQControlUrl","jFormsJQErrorDecoratorAlert","message","jFormsJQErrorDecoratorHtml","jFormsJQForm","selector","id","formId","allDependencies","updateInProgress","controlsToUpdate","addControl","itemValue","formName","getChild","aControlName","it","c","list","activate","document","getElementById","htmlItem","ctl","deactivate","search","t","match","yy","parseInt","mm","dd","dt","Date","getFullYear","getMonth","getDate","controlId","v","attr","removeAttr","th","tm","ts","getHours","getMinutes","getSeconds","secondsControl","parseFloat","yes","checkboxItem","showActivate","fieldset","toactivate","trim","indexOf","test","form","control","messageType","alert","empty","hide","errid","ul","createElement","first","before","jul","location","hash","html","fadeIn","setErrorDecorator","decorator","getControl","ctrls","child","declareDynamicFill","controlName","dependencies","me","depName","dep","change","updateLinkedElements","updateDynamicList","dynamicFillAjax","buildOrderedControlsList","alreadyCheckedControls","checkedCircularDependency","buildListDependencies","ctrlname","pop","token","param","eltValue","data","select","eq","emptyitem","detach","append","optgroup","addSubmitHandler","handler","beforeCheck","__jforms_jquery","window"],"sourceRoot":""}