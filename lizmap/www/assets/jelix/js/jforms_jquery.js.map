{"version":3,"file":"jforms_jquery.js","mappings":"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","sources":["webpack://assets/webpack/bootstrap","webpack://assets/./src/jforms_jquery/jFormsJQControlBoolean.js","webpack://assets/webpack/runtime/compat get default export","webpack://assets/webpack/runtime/define property getters","webpack://assets/webpack/runtime/hasOwnProperty shorthand","webpack://assets/external var \"$\"","webpack://assets/./src/jforms_jquery/jFormsJQ.js","webpack://assets/./src/jforms_jquery/jFormsJQControlChoice.js","webpack://assets/./src/jforms_jquery/jFormsJQControlColor.js","webpack://assets/./src/jforms_jquery/jFormsJQControlConfirm.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlEmail.js","webpack://assets/./src/jforms_jquery/jFormsJQControlGroup.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHexadecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQControlInteger.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv4.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv6.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlSecret.js","webpack://assets/./src/jforms_jquery/jFormsJQControlString.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime2.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlUrl.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorAlert.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQForm.js","webpack://assets/./src/jforms_jquery/jforms_jquery.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with boolean\n */\nexport default function jFormsJQControlBoolean(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlBoolean.prototype.check = function (val, jfrm) {\n    return (val == true || val == false);\n};\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = $;","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Dominique Papin\n * @copyright    2007-2023 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2008 Dominique Papin\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * form manager\n */\nconst jFormsJQ = {\n\n    /**\n     * list of jFormsJQForm. property name are id value of forms (jforms_<module>_<name>)\n     */\n    _forms: {},\n\n    tForm: null,\n    selectFillUrl : '',\n\n    config : {},\n\n    _onReadyCallback: {},\n\n    _submitListener : function(ev) {\n        let frm = jFormsJQ.getForm(ev.target.attributes.getNamedItem(\"id\").value);\n\n        $(ev.target).trigger('jFormsUpdateFields');\n\n        let submitOk = true;\n        try {\n            for (let i=0; i< frm.preSubmitHandlers.length; i++) {\n                if (!frm.preSubmitHandlers[i](ev))\n                    submitOk = false;\n            }\n\n            if (!jFormsJQ.verifyForm(ev.target))\n                submitOk = false;\n\n            for (let j=0; j< frm.postSubmitHandlers.length; j++) {\n                if (!frm.postSubmitHandlers[j](ev))\n                    submitOk = false;\n            }\n        }\n        catch(e) {\n            return false;\n        }\n\n        if (frm.isSubmitWithXhr && submitOk) {\n            let fData = new FormData(frm.element);\n            let url = frm.element.getAttribute('action');\n            let httpMethod = frm.element.getAttribute('method');\n\n            $.ajax(url, {\n                data: fData,\n                processData: false,\n                contentType: false,\n                method: httpMethod,\n                dataType: 'json'\n            })\n            .done(function(data, status, xhr) {\n                if (data.success) {\n                    if (frm.xhrValidFormCallback) {\n                        frm.xhrValidFormCallback(data)\n                    }\n                    else if (data.locationUrl) {\n                        window.location.href = data.locationUrl;\n                    }\n                }\n                else {\n                    if (frm.xhrFormInErrorCallback) {\n                        frm.xhrFormInErrorCallback(data)\n                    }\n                    else {\n                        frm.setErrors(data.errors);\n                    }\n                }\n            })\n            .fail(function(xhr, status, error) {\n                if (xhr.responseJSON && 'errorMessage' in xhr.responseJSON) {\n                    error = xhr.responseJSON.errorMessage;\n                }\n                frm.showSubmitError(error);\n            });\n            //ev.preventDefault();\n            return false;\n        }\n        return submitOk;\n    },\n\n    /**\n     * @param {jFormsJQForm} aForm\n     */\n    declareForm : function(aForm){\n        this._forms[aForm.name] = aForm;\n        $('#'+aForm.name).bind('submit', jFormsJQ._submitListener);\n        const event = new Event(\"jformsready\");\n        document.getElementById(aForm.name).dispatchEvent(event);\n        if (aForm.name in this._onReadyCallback) {\n            this._onReadyCallback[aForm.name](aForm);\n        }\n    },\n\n    /**\n     * Set a listener that is called when the form corresponding to the given name,\n     * is ready.\n     *\n     * The listener may be called immediately if the form is already ready.\n     * The listener should be a function that accepts a jFormsJQForm as parameter.\n     * For example, the listener can register\n     *\n     * @param {String} formName  should be a name like `jforms_<module>_<name>`\n     * @param {Function} callback\n     */\n    onFormReady: function (formName, callback) {\n        this._onReadyCallback[formName] = callback;\n        if (formName in this._forms) {\n            callback(this._forms[formName]);\n        }\n    },\n\n    /**\n     *\n     * @param name  should be a name like `jforms_<module>_<name>`\n     * @returns {jFormsJQForm}\n     */\n    getForm : function (name) {\n        return this._forms[name];\n    },\n\n    /**\n     *  @param {Element} frmElt  the <form> HTML element\n     */\n    verifyForm : function(frmElt) {\n        this.tForm = this._forms[frmElt.attributes.getNamedItem(\"id\").value]; // we cannot use getAttribute for id because a bug with IE\n        let valid = true;\n        this.tForm.errorDecorator.start(this.tForm);\n        for(let i =0; i < this.tForm.controls.length; i++){\n            if (!this.verifyControl(this.tForm.controls[i], this.tForm))\n                valid = false;\n        }\n        if(!valid)\n            this.tForm.errorDecorator.end();\n        return valid;\n    },\n\n    /**\n     * @param {jFormsJQControl}  ctrl     a jform control\n     * @param {jFormsJQForm}      frm      the jform object\n     */\n    verifyControl : function (ctrl, frm) {\n        let val;\n        if(typeof ctrl.getValue == 'function') {\n            val = ctrl.getValue();\n        }\n        else {\n            let elt = frm.element.elements[ctrl.name];\n            if (!elt) return true; // sometimes, all controls are not generated...\n            val = this.getValue(elt);\n        }\n\n        if (val === null || val === false) {\n            if (ctrl.required) {\n                frm.errorDecorator.addError(ctrl, 1);\n                return false;\n            }\n        }\n        else {\n            if(!ctrl.check(val, frm)){\n                if (!(\"getChild\" in ctrl)) {\n                    // don't output error for groups/choice, errors on child have already been set\n                    frm.errorDecorator.addError(ctrl, 2);\n                }\n                return false;\n            }\n        }\n        return true;\n    },\n\n    /**\n     * @param {Element} elt\n     */\n    getValue : function (elt){\n        if(elt.nodeType) { // this is a node\n            let val, values = [];\n            switch (elt.nodeName.toLowerCase()) {\n                case \"input\":\n                    if (elt.getAttribute('type') === 'checkbox') {\n                        return elt.checked;\n                    }\n                    /* falls through */\n                case \"textarea\":\n                    val = $.trim(elt.value);\n                    return (val !== '' ? val:null);\n                case \"select\":\n                    if (!elt.multiple) {\n                        return (elt.value!==''?elt.value:null);\n                    }\n                    for (let i = 0; i < elt.options.length; i++) {\n                        if (elt.options[i].selected) {\n                            values.push(elt.options[i].value);\n                        }\n                    }\n                    if (values.length) {\n                        return values;\n                    }\n                    return null;\n            }\n        } else if(this.isCollection(elt)){\n            // this is a NodeList of radio buttons or multiple checkboxes\n            let values = [];\n            for (let i = 0; i < elt.length; i++) {\n                let item = elt[i];\n                if (item.checked)\n                    values.push(item.value);\n            }\n            if(values.length) {\n                if (elt[0].getAttribute('type') === 'radio')\n                    return values[0];\n                return values;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * @param {Element} elt\n     * @param {String} clss  CSS class\n     */\n    hasClass: function (elt,clss) {\n        return $(elt).hasClass(clss);\n    },\n    addClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).addClass(clss);\n            }\n        } else {\n            $(elt).addClass(clss);\n        }\n    },\n    removeClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).removeClass(clss);\n            }\n        } else {\n            $(elt).removeClass(clss);\n        }\n    },\n    setAttribute: function(elt, name, value){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].setAttribute(name, value);\n            }\n        } else {\n            elt.setAttribute(name, value);\n        }\n    },\n    removeAttribute: function(elt, name){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].removeAttribute(name);\n            }\n        } else {\n            elt.removeAttribute(name);\n        }\n    },\n    /**\n     * @param {Element} elt\n     */\n    isCollection: function(elt) {\n        if (typeof HTMLCollection != \"undefined\" && elt instanceof HTMLCollection) {\n            return true;\n        }\n        if (typeof NodeList != \"undefined\" && elt instanceof NodeList) {\n            return true;\n        }\n        if (elt instanceof Array) {\n            return true;\n        }\n        if (elt.length !== undefined && (elt.localName === undefined || elt.localName.toLowerCase() === 'select')) {\n            return true;\n        }\n        return false;\n    }\n};\n\nexport default jFormsJQ;\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * choice control\n */\nexport default function jFormsJQControlChoice(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.items = {};\n    this.readOnly = false;\n}\n\njFormsJQControlChoice.prototype = {\n    addControl : function (ctrl, itemValue) {\n        if (this.items[itemValue] === undefined) {\n            this.items[itemValue] = [];\n        }\n        if (ctrl) { // a choice item can be empty\n            this.items[itemValue].push(ctrl);\n            ctrl.formName = this.formName;\n        }\n    },\n    getChild : function (aControlName) {\n        for (var it in this.items) {\n            for (var i=0; i < this.items[it].length; i++) {\n                var c = this.items[it][i];\n                if (c.name == aControlName)\n                    return c;\n            }\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if(this.items[val] == undefined)\n            return false;\n\n        var list = this.items[val];\n        var valid = true;\n        for(var i=0; i < list.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(list[i], jfrm);\n            if (!ctrlvalid)\n                valid = false;\n        }\n        return valid;\n    },\n    activate : function (val) {\n        var frmElt = document.getElementById(this.formName);\n        for(var j in this.items) {\n            var list = this.items[j];\n            var htmlItem = document.getElementById(this.formName+'_'+this.name+'_'+j+'_item');\n            if (htmlItem) {\n                if (val == j) {\n                    jFormsJQ.addClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.removeClass(htmlItem, \"jforms-notselected\");\n                }\n                else {\n                    jFormsJQ.removeClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.addClass(htmlItem, \"jforms-notselected\");\n                }\n            }\n            for(var i=0; i < list.length; i++) {\n                var ctl = list[i];\n                if(typeof ctl.deactivate == 'function'){\n                    if (ctl.readOnly)\n                        ctl.deactivate(true);\n                    else\n                        ctl.deactivate(val != j);\n                    continue;\n                }\n                var elt = frmElt.elements[ctl.name];\n                if (val == j && !ctl.readOnly) {\n                    jFormsJQ.removeAttribute(elt, \"disabled\");\n                    jFormsJQ.removeClass(elt, \"jforms-disabled\");\n                } else {\n                    jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                    jFormsJQ.addClass(elt, \"jforms-disabled\");\n                }\n            }\n        }\n    }\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for color code\n */\nexport default function jFormsJQControlColor(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlColor.prototype.check = function (val, jfrm) {\n    return (val.search(/^#[a-f0-9A-F]{6}$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * confirm control\n */\nexport default function jFormsJQControlConfirm(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this._masterControl = name.replace(/_confirm$/,'');\n}\n\njFormsJQControlConfirm.prototype.check = function(val, jfrm) {\n    if(jFormsJQ.getValue(jfrm.element.elements[this._masterControl]) !== val)\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with Date\n */\nexport default function jFormsJQControlDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.multiFields = false;\n    this.minDate = null;\n    this.maxDate = null;\n    this.readOnly = false;\n}\n\njFormsJQControlDate.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDate.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val();\n    if (v === '--')\n        return null;\n    return v;\n};\njFormsJQControlDate.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Nigoki\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2009 Nigoki\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n/**\n * control with Datetime\n */\nexport default function jFormsJQControlDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minDate = null;\n    this.maxDate = null;\n    this.multiFields = false;\n    this.readOnly = false;\n}\n\njFormsJQControlDatetime.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let th = parseInt(t[4],10);\n    let tm = parseInt(t[5],10);\n    let ts = 0;\n    if(t[7] != null && t[7] != \"\") {\n        ts = parseInt(t[7],10);\n    }\n    let dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDatetime.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val() + ' '\n        + $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    let secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if (secondsControl.attr('type') !== 'hidden') {\n        v += ':'+secondsControl.val();\n        if (v === '-- ::') {\n            return null;\n        }\n    }\n    else if (v === '-- :')\n        return null;\n    return v;\n};\njFormsJQControlDatetime.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Decimal\n */\nexport default function jFormsJQControlDecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlDecimal.prototype.check = function (val, jfrm) {\n    if (!(-1 != val.search(/^\\s*[+-]?\\d+(\\.\\d+)?\\s*$/))) return false;\n    if (this.minValue != -1 && parseFloat(val) < this.minValue) return false;\n    if (this.maxValue != -1 && parseFloat(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with email\n */\nexport default function jFormsJQControlEmail(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlEmail.prototype.check = function (val, jfrm) {\n    return (val.search(/^((\"[^\"f\\n\\r\\t\\b]+\")|([\\w!#$%&'*+-~/^`|{}]+(\\.[\\w!#$%&'*+-~/^`|{}]+)*))@((\\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * group control\n */\nexport default function jFormsJQControlGroup(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n    this.children = [];\n    this.hasCheckbox = false;\n}\n\njFormsJQControlGroup.prototype = {\n    addControl : function (ctrl, itemValue) {\n        this.children.push(ctrl);\n        ctrl.formName = this.formName;\n    },\n    getChild : function (aControlName) {\n        for (var i=0; i < this.children.length; i++) {\n            var c = this.children[i];\n            if (c.name == aControlName)\n                return c;\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if (this.hasCheckbox) {\n            var chk = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n            if (!chk.checked) {\n                return true;\n            }\n        }\n        var valid = true;\n        for(var i=0; i < this.children.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(this.children[i], jfrm);\n            if (!ctrlvalid) {\n                valid = false;\n            }\n        }\n        return valid;\n    },\n    activate: function(yes) {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (checkboxItem) {\n            if (yes) {\n                checkboxItem.setAttribute('checked', 'true');\n            }\n            else {\n                checkboxItem.removeAttribute('checked');\n            }\n            this.showActivate();\n        }\n    },\n    showActivate : function () {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (!this.hasCheckbox || !checkboxItem) {\n            return;\n        }\n        var fieldset = document.getElementById(this.formName+'_'+this.name);\n        var frmElt = document.getElementById(this.formName);\n\n        var toactivate = checkboxItem.checked;\n        if (toactivate) {\n            jFormsJQ.removeClass(fieldset, \"jforms-notselected\");\n        }\n        else {\n            jFormsJQ.addClass(fieldset, \"jforms-notselected\");\n        }\n        for(var i=0; i < this.children.length; i++) {\n            var ctl = this.children[i];\n            if(typeof ctl.deactivate == 'function'){\n                if (ctl.readOnly) {\n                    ctl.deactivate(true);\n                } else {\n                    ctl.deactivate(!toactivate);\n                }\n                continue;\n            }\n            var elt = frmElt.elements[ctl.name];\n            if (toactivate && !ctl.readOnly) {\n                jFormsJQ.removeAttribute(elt, \"disabled\");\n                jFormsJQ.removeClass(elt, \"jforms-disabled\");\n            } else {\n                jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                jFormsJQ.addClass(elt, \"jforms-disabled\");\n            }\n        }\n    }\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Hexadecimal\n */\nexport default function jFormsJQControlHexadecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlHexadecimal.prototype.check = function (val, jfrm) {\n    return (val.search(/^0x[a-f0-9A-F]+$/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * control with HTML content generated by a wysiwyg editor\n */\nexport default function jFormsJQControlHtml(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.readOnly = false;\n}\n\njFormsJQControlHtml.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    return true;\n};\njFormsJQControlHtml.prototype.getValue = function () {\n    var frm = jFormsJQ.getForm(this.formName);\n    var elt = frm.element.elements[this.name];\n    if (!elt) return null;\n    var val = jFormsJQ.getValue(elt);\n    if (val == null)\n        return null;\n    val = val.replace(/<(img|object|video|svg|embed)[^>]*>/gi, 'TAG'); //tags which are contents\n    val = val.replace(/<\\/?[\\S][^>]*>/gi, '');\n    val = val.replace(/&[a-z]+;/gi, '');\n    val = $.trim(val);\n    if (val =='')\n        return null;\n    return val;\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Integer\n */\nexport default function jFormsJQControlInteger(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlInteger.prototype.check = function (val, jfrm) {\n    if (!(-1 !== val.search(/^\\s*[+-]?\\d+\\s*$/))) return false;\n    if (this.minValue !== -1 && parseInt(val) < this.minValue) return false;\n    if (this.maxValue !== -1 && parseInt(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv4\n */\nexport default function jFormsJQControlIpv4(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv4.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/);\n    if(t)\n        return (t[1] < 256 && t[2] < 256 && t[3] < 256 && t[4] < 256);\n    return false;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv6\n */\nexport default function jFormsJQControlIpv6(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv6.prototype.check = function (val, jfrm) {\n    return (val.search(/^([a-f0-9]{1,4})(:([a-f0-9]{1,4})){7}$/i) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with localedate\n */\nexport default function jFormsJQControlLocaleDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDate.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n    }\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if (yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with LocaleDateTime\n */\nexport default function jFormsJQControlLocaleDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDatetime.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, th, tm, ts, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }\n    var dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for secret input\n */\nexport default function jFormsJQControlSecret(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlSecret.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with string\n */\nexport default function jFormsJQControlString(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlString.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Adrien Lagroy\n * @contributor  Laurent Jouanneau\n * @copyright    2020 Adrien Lagroy, 2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with time for jForms\n */\nexport default function jFormsJQControlTime2(name, label) {\n    this.name = name;\n    this.label = label;\n    this.multiFields = false;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minTime = null;\n    this.maxTime = null;\n    this.readOnly = false;\n}\n\njFormsJQControlTime2.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\njFormsJQControlTime2.prototype.getValue = function(){\n    if (!this.multiFields) {\n        var val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val !=='' ? val : null);\n    }\n\n    var controlId = '#' + this.formName + '_' + this.name;\n    var v = $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    var secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if(secondsControl.attr('type') !== 'hidden'){\n        v += ':'+secondsControl.val();\n        if(v == '::')\n            return null;\n    }\n    else if(v == ':')\n        return null;\n    return v;\n};\njFormsJQControlTime2.prototype.deactivate = function(deactivate){\n    var controlId = '#' + this.formName + '_' + this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with time\n */\nexport default function jFormsJQControlTime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n}\n\njFormsJQControlTime.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minTime !== null && val < this.minTime) || (this.maxTime !== null && val > this.maxTime))\n        return false;\n    else\n        return true;\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Url\n */\nexport default function jFormsJQControlUrl(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlUrl.prototype.check = function (val, jfrm) {\n    return (val.search(/^[a-z]+:\\/\\/((((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))((\\/)|$)/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2023 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * Decorator to display errors in an alert dialog box\n */\nexport default function jFormsJQErrorDecoratorAlert(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorAlert.prototype = {\n    start : function(form){\n        this.message = '';\n    },\n    addError : function(control, messageType){\n        if(messageType == 1){\n            this.message  +=\"* \"+control.errRequired + \"\\n\";\n        }else if(messageType == 2){\n            this.message  +=\"* \"+control.errInvalid + \"\\n\";\n        }else{\n            this.message  += \"* Error on '\"+control.label+\"' field\\n\";\n        }\n    },\n    end : function(){\n        if(this.message != ''){\n            alert(this.message);\n        }\n    },\n    clean: function() {\n\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2023 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n\nexport default function jFormsJQErrorDecoratorHtml(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorHtml.prototype = {\n    start : function(form){\n        this.clean();\n        this.form = form;\n    },\n    addError : function(control, messageType){\n        var elt = this.form.element.elements[control.name];\n        if (elt && elt.nodeType) {\n            $(elt).addClass('jforms-error');\n        }\n        var name = control.name.replace(/\\[\\]/, '');\n        $(\"#\"+this.form.name+\"_\"+name+\"_label\").addClass('jforms-error');\n\n        if (messageType === 1) {\n            this.message  += '<li class=\"error\"> '+control.errRequired + \"</li>\";\n        } else if(messageType === 2) {\n            this.message  += '<li class=\"error\"> ' +control.errInvalid + \"</li>\";\n        } else if(typeof messageType === 'string') {\n            this.message  += '<li class=\"error\"> ' +messageType+ \"</li>\";\n        } else {\n            this.message  += '<li class=\"error\"> Error on \\''+control.label+\"' </li>\";\n        }\n    },\n    end : function(){\n        var errid = this.form.name+'_errors';\n        var ul = document.getElementById(errid);\n        if(this.message != ''){\n            if (!ul) {\n                ul = document.createElement('ul');\n                ul.setAttribute('class', 'jforms-error-list');\n                ul.setAttribute('id', errid);\n                $(this.form.element).first().before(ul);\n            }\n            var jul = $(ul);\n\n            if ('scrollIntoView' in ul) {\n                ul.scrollIntoView();\n            }\n            else {\n                location.hash = \"#\"+errid;\n            }\n            jul.hide().html(this.message).fadeIn();\n        }\n        else if (ul) {\n            $(ul).hide();\n        }\n    },\n    clean : function() {\n        this.message = '';\n        if (this.form) {\n            $(\"#\"+this.form.name+\" .jforms-error\").removeClass('jforms-error');\n            $('#'+this.form.name+'_errors').empty().hide();\n        }\n        this.form = null;\n    },\n    showSubmitError: function(message) {\n        this.message = '<li class=\"error\">'+message+\"</li>\";\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Vincent viaud, Steven Jehannet\n * @copyright    2007-2023 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2011 Steven Jehannet, 2010 Vincent viaud\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQ from './jFormsJQ.js';\nimport $ from 'jquery';\n\nfunction jFormsJQControl(name, label) {\n    /** @var {string} name the ref value of the control */\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControl.prototype.check = function (val, jfrm) {\n    return true;\n};\n\n\n/**\n * represents a form\n */\nexport default function jFormsJQForm(name, selector, id){\n    // the jelix selector corresponding to the jforms object\n    this.selector = selector;\n\n    // the jforms id (id given to jForms::get())\n    this.formId = id;\n\n    // the value of the id attribute: jforms_<module>_<name>\n    this.name = name;\n\n    this.controls = [];\n    this.errorDecorator =  new jFormsJQErrorDecoratorHtml();\n    this.element = $('#'+name).get(0);\n\n    // list of dependencies. Values are list of controls to update when a\n    // control (key is its name) is modified\n    this.allDependencies = {};\n    this.updateInProgress = false;\n    this.controlsToUpdate = [];\n    this.preSubmitHandlers = [];\n    this.postSubmitHandlers = [];\n\n    this.isSubmitWithXhr = false;\n    this.xhrValidFormCallback = null;\n    this.xhrFormInErrorCallback = null;\n}\n\n\njFormsJQForm.prototype={\n    /**\n     * @param {jFormsJQControl} ctrl\n     */\n    addControl : function(ctrl){\n        this.controls.push(ctrl);\n        ctrl.formName = this.name;\n    },\n\n    setErrorDecorator : function (decorator){\n        this.errorDecorator = decorator;\n    },\n\n    /**\n     * When the form will be submitted, data will be sent with XHR\n     *\n     * @param {Function} validFormCallback the function that will be called\n     *                  with the result of the http request, when the content of\n     *                  the formulaire is valid\n     * @param {Function} formInErrorCallback the function that will be called\n     *                  with the result of the http request, when the content of\n     *                  the formulaire is not valid\n     */\n    submitWithXHR: function(validFormCallback, formInErrorCallback){\n        this.isSubmitWithXhr = true;\n        this.xhrValidFormCallback = validFormCallback;\n        this.xhrFormInErrorCallback = formInErrorCallback;\n    },\n\n    /**\n     * @param {String} aControlName the ref value of the control\n     * @return {jFormsJQControl}\n     */\n    getControl : function(aControlName) {\n        var ctrls = this.controls;\n        for(var i=0; i < ctrls.length; i++){\n            if (ctrls[i].name == aControlName) {\n                return ctrls[i];\n            }\n            else if (ctrls[i].getChild){\n                var child = ctrls[i].getChild(aControlName);\n                if (child)\n                    return child;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * declare a list as a dynamic list: its possible values change when an\n     * other control is modified.\n     * @param {String} controlName the ref value of the control corresponding to the html list to update\n     */\n    declareDynamicFill : function (controlName) {\n        var ctrl = this.getControl(controlName);\n        // dependencies property contains name of controls that provide values\n        // used as criterion to retrieve list of values for controlName\n        if (!ctrl.dependencies)\n            return;\n\n        var me = this;\n        // the control has some dependencies : we put a listener\n        // on these dependencies, so when these dependencies\n        // change, we retrieve the new content of the control\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var depName = ctrl.dependencies[i];\n            var dep = this.element.elements[depName];\n            if (this.allDependencies[depName] === undefined) {\n                this.allDependencies[depName] = [controlName];\n                $(dep).change(function() {\n                    me.updateLinkedElements(depName);\n                });\n            }\n            else {\n                this.allDependencies[depName].push(controlName);\n            }\n        }\n    },\n\n    /**\n     * update the given list that depends on another control.\n     *\n     * Useful if you know that this list has changed at the backend side.\n     *\n     * @param {String} controlName the ref value of the list to update\n     */\n    updateDynamicList : function(controlName) {\n        var ctrl = this.getControl(controlName);\n        if (!ctrl.dependencies) {\n            return;\n        }\n        this.controlsToUpdate.push(controlName);\n        this.dynamicFillAjax();\n    },\n\n    /**\n     * update the content of all elements which depends on the value of the given\n     * control\n     * @param {String} controlName the ref value of the control\n     */\n    updateLinkedElements : function (controlName) {\n        if (this.updateInProgress) // we don't want to call same ajax request...\n            return;\n        this.updateInProgress = true;\n        this.buildOrderedControlsList(controlName);\n        // we now have the list of controls to update, in the reverse order\n        // let's start the update\n        this.dynamicFillAjax();\n    },\n\n    /**\n     *\n     * @param {String} controlName the ref value of the control\n     */\n    buildOrderedControlsList : function(controlName) {\n        // we should build a graph, to update elements in the right order\n        this.controlsToUpdate = [];\n        var alreadyCheckedControls = [];\n        var checkedCircularDependency = [];\n        var me = this;\n        var buildListDependencies = function (controlName) {\n            if (checkedCircularDependency[controlName] === true)\n                throw \"Circular reference !\";\n            checkedCircularDependency[controlName] = true;\n\n            var list = me.allDependencies[controlName];\n            if (list !== undefined) {\n                for (var j=0; j< list.length; j++) {\n                    if (alreadyCheckedControls[list[j]] !== true) {\n                        buildListDependencies(list[j]);\n                    }\n                }\n            }\n            checkedCircularDependency[controlName] = false;\n            alreadyCheckedControls[controlName] = true;\n            me.controlsToUpdate.push(controlName);\n        };\n\n        var list = this.allDependencies[controlName];\n        if (list !== undefined) {\n            for (var i=0; i< list.length; i++) {\n                checkedCircularDependency = [];\n                if (alreadyCheckedControls[list[i]] !== true) {\n                    buildListDependencies(list[i]);\n                }\n            }\n        }\n    },\n\n    /**\n     * It sends the values of dependencies of a control,\n     * and then we retrieve the new values of this control\n     */\n    dynamicFillAjax : function () {\n        var ctrlname = this.controlsToUpdate.pop();\n        if (!ctrlname) {\n            this.updateInProgress = false;\n            this.controlsToUpdate = [];\n            return;\n        }\n        var ctrl = this.getControl(ctrlname);\n        var token = this.element.elements['__JFORMS_TOKEN__'];\n        if (typeof token == \"undefined\" ) {\n            token = '';\n        }\n        else\n            token = token.value;\n\n        var param = {\n            '__form': this.selector,\n            '__formid' : this.formId,\n            '__JFORMS_TOKEN__' : token,\n            '__ref' : ctrl.name.replace('[]','')\n        };\n\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var n = ctrl.dependencies[i];\n            param[n] = jFormsJQ.getValue(this.element.elements[n]);\n        }\n\n        var elt = this.element.elements[ctrl.name];\n        var eltValue = elt.value;\n        var me = this;\n\n        $.post(jFormsJQ.selectFillUrl, param,\n            function(data){\n                if(elt.nodeType && elt.nodeName.toLowerCase() == 'select') {\n                    var select = $(elt).eq(0);\n                    var emptyitem = select.children('option[value=\"\"]').detach();\n                    select.empty();\n                    if(emptyitem)\n                        select.append(emptyitem);\n                    $.each(data, function(i, item){\n                        if (emptyitem && item.value == '') {\n                            // do not add empty item if it already exists.\n                            return;\n                        }\n                        if(typeof item.items == 'object'){\n                            select.append('<optgroup label=\"'+item.label+'\"/>');\n                            var optgroup = select.children('optgroup[label=\"'+item.label+'\"]').eq(0);\n                            $.each(item.items, function(i,item){\n                                 optgroup.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                            });\n                        }\n                        else\n                            select.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                    });\n                }\n                if (me.controlsToUpdate.length) {\n                    me.dynamicFillAjax();\n                }\n                else {\n                    me.updateInProgress = false;\n                }\n            }, \"json\");\n    },\n\n    addSubmitHandler : function (handler, beforeCheck) {\n        if (beforeCheck) {\n            this.preSubmitHandlers.push(handler);\n        }\n        else\n            this.postSubmitHandlers.push(handler);\n    },\n\n    /**\n     *\n     * @param {object} errors each properties are the message string or message code\n     *                        properties names are the control ref name\n     */\n    setErrors : function(errors) {\n        let frm = this;\n        let errDec = this.errorDecorator;\n        errDec.start(this);\n        Object.keys(errors).forEach(\n            ref => errDec.addError(frm.getControl(ref), errors[ref])\n        )\n        errDec.end();\n    },\n\n    showSubmitError: function(message) {\n        this.errorDecorator.start(this);\n        this.errorDecorator.showSubmitError(message);\n        this.errorDecorator.end();\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQControlBoolean from './jFormsJQControlBoolean.js';\nimport jFormsJQControlChoice from './jFormsJQControlChoice.js';\nimport jFormsJQControlColor from './jFormsJQControlColor.js';\nimport jFormsJQControlConfirm from './jFormsJQControlConfirm.js';\nimport jFormsJQControlDate from './jFormsJQControlDate.js';\nimport jFormsJQControlDatetime from './jFormsJQControlDatetime.js';\nimport jFormsJQControlDecimal from './jFormsJQControlDecimal.js';\nimport jFormsJQControlEmail from './jFormsJQControlEmail.js';\nimport jFormsJQControlGroup from './jFormsJQControlGroup.js';\nimport jFormsJQControlHexadecimal from './jFormsJQControlHexadecimal.js';\nimport jFormsJQControlHtml from './jFormsJQControlHtml.js';\nimport jFormsJQControlInteger from './jFormsJQControlInteger.js';\nimport jFormsJQControlIpv4 from './jFormsJQControlIpv4.js';\nimport jFormsJQControlIpv6 from './jFormsJQControlIpv6.js';\nimport jFormsJQControlLocaleDate from './jFormsJQControlLocaleDate.js';\nimport jFormsJQControlLocaleDatetime from './jFormsJQControlLocaleDatetime.js';\nimport jFormsJQControlSecret from './jFormsJQControlSecret.js';\nimport jFormsJQControlString from './jFormsJQControlString.js';\nimport jFormsJQControlTime2 from './jFormsJQControlTime2.js';\nimport jFormsJQControlTime from './jFormsJQControlTime.js';\nimport jFormsJQControlUrl from './jFormsJQControlUrl.js';\nimport jFormsJQErrorDecoratorAlert from './jFormsJQErrorDecoratorAlert.js';\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQForm from './jFormsJQForm.js';\nimport jFormsJQ from './jFormsJQ.js';\n\n\nvar __jforms_jquery = {\n    jFormsJQ,\n    jFormsJQForm,\n    jFormsJQErrorDecoratorHtml,\n    jFormsJQErrorDecoratorAlert,\n    jFormsJQControlUrl,\n    jFormsJQControlTime,\n    jFormsJQControlTime2,\n    jFormsJQControlString,\n    jFormsJQControlSecret,\n    jFormsJQControlLocaleDatetime,\n    jFormsJQControlLocaleDate,\n    jFormsJQControlIpv6,\n    jFormsJQControlIpv4,\n    jFormsJQControlInteger,\n    jFormsJQControlHtml,\n    jFormsJQControlHexadecimal,\n    jFormsJQControlGroup,\n    jFormsJQControlEmail,\n    jFormsJQControlDecimal,\n    jFormsJQControlDatetime,\n    jFormsJQControlDate,\n    jFormsJQControlConfirm,\n    jFormsJQControlColor,\n    jFormsJQControlChoice,\n    jFormsJQControlBoolean\n};\n\nfor (var o in __jforms_jquery) {\n    window[o] = __jforms_jquery[o];\n}\n\n"],"names":["__webpack_require__","jFormsJQControlBoolean","name","label","this","required","errInvalid","errRequired","readOnly","n","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","check","val","jfrm","$","jFormsJQ","_forms","tForm","selectFillUrl","config","_onReadyCallback","_submitListener","ev","frm","getForm","target","attributes","getNamedItem","value","trigger","submitOk","i","preSubmitHandlers","length","verifyForm","j","postSubmitHandlers","e","isSubmitWithXhr","fData","FormData","element","url","getAttribute","httpMethod","data","processData","contentType","method","dataType","done","status","xhr","success","xhrValidFormCallback","locationUrl","window","location","href","xhrFormInErrorCallback","setErrors","errors","fail","error","responseJSON","errorMessage","showSubmitError","declareForm","aForm","bind","event","Event","document","getElementById","dispatchEvent","onFormReady","formName","callback","frmElt","valid","errorDecorator","start","controls","verifyControl","end","ctrl","getValue","elt","elements","addError","nodeType","values","nodeName","toLowerCase","checked","multiple","options","selected","push","isCollection","item","hasClass","clss","addClass","removeClass","setAttribute","removeAttribute","HTMLCollection","NodeList","Array","undefined","localName","jFormsJQControlChoice","items","jFormsJQControlColor","jFormsJQControlConfirm","_masterControl","replace","jFormsJQControlDate","multiFields","minDate","maxDate","jFormsJQControlDatetime","jFormsJQControlDecimal","minValue","maxValue","jFormsJQControlEmail","jFormsJQControlGroup","children","hasCheckbox","jFormsJQControlHexadecimal","jFormsJQControlHtml","minLength","maxLength","jFormsJQControlInteger","jFormsJQControlIpv4","jFormsJQControlIpv6","jFormsJQControlLocaleDate","lang","jFormsJQControlLocaleDatetime","jFormsJQControlSecret","regexp","jFormsJQControlString","jFormsJQControlTime2","minTime","maxTime","jFormsJQControlTime","jFormsJQControlUrl","jFormsJQErrorDecoratorAlert","message","jFormsJQErrorDecoratorHtml","jFormsJQForm","selector","id","formId","allDependencies","updateInProgress","controlsToUpdate","addControl","itemValue","getChild","aControlName","it","c","list","activate","htmlItem","ctl","deactivate","search","t","match","yy","parseInt","mm","dd","dt","Date","getFullYear","getMonth","getDate","controlId","v","attr","removeAttr","th","tm","ts","getHours","getMinutes","getSeconds","secondsControl","parseFloat","yes","checkboxItem","showActivate","fieldset","toactivate","trim","indexOf","test","form","control","messageType","alert","clean","errid","ul","createElement","first","before","jul","scrollIntoView","hash","hide","html","fadeIn","empty","setErrorDecorator","decorator","submitWithXHR","validFormCallback","formInErrorCallback","getControl","ctrls","child","declareDynamicFill","controlName","dependencies","me","depName","dep","change","updateLinkedElements","updateDynamicList","dynamicFillAjax","buildOrderedControlsList","alreadyCheckedControls","checkedCircularDependency","buildListDependencies","ctrlname","pop","token","param","eltValue","select","eq","emptyitem","detach","append","optgroup","addSubmitHandler","handler","beforeCheck","errDec","keys","forEach","ref","__jforms_jquery"],"sourceRoot":""}