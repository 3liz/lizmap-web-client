/*! For license information please see jforms_jquery.js.LICENSE.txt */
(()=>{"use strict";var e={};function t(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}e.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},e.d=(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.prototype.check=function(e,t){return 1==e||0==e};const r=$;var i=e.n(r);const s={_forms:{},tForm:null,selectFillUrl:"",config:{},_onReadyCallback:{},_submitListener:function(e){let t=s.getForm(e.target.attributes.getNamedItem("id").value);i()(e.target).trigger("jFormsUpdateFields");let r=!0;try{for(let i=0;i<t.preSubmitHandlers.length;i++)t.preSubmitHandlers[i](e)||(r=!1);s.verifyForm(e.target)||(r=!1);for(let i=0;i<t.postSubmitHandlers.length;i++)t.postSubmitHandlers[i](e)||(r=!1)}catch(e){return!1}if(t.isSubmitWithXhr&&r){let e=new FormData(t.element),r=t.element.getAttribute("action"),s=t.element.getAttribute("method");return i().ajax(r,{data:e,processData:!1,contentType:!1,method:s,dataType:"json"}).done((function(e,r,i){e.success?t.xhrValidFormCallback?t.xhrValidFormCallback(e):e.locationUrl&&(window.location.href=e.locationUrl):t.xhrFormInErrorCallback?t.xhrFormInErrorCallback(e):e.locationUrl?window.location.href=e.locationUrl:("errorMessage"in e&&t.showSubmitError(e.errorMessage),"errors"in e&&t.setErrors(e.errors))})).fail((function(e,r,i){e.responseJSON&&"errorMessage"in e.responseJSON&&(i=e.responseJSON.errorMessage),t.showSubmitError(i)})),!1}return r},declareForm:function(e){this._forms[e.name]=e,i()("#"+e.name).bind("submit",s._submitListener);const t=new Event("jformsready");document.getElementById(e.name).dispatchEvent(t),e.name in this._onReadyCallback&&this._onReadyCallback[e.name](e)},onFormReady:function(e,t){this._onReadyCallback[e]=t,e in this._forms&&t(this._forms[e])},getForm:function(e){return this._forms[e]},verifyForm:function(e){this.tForm=this._forms[e.attributes.getNamedItem("id").value];let t=!0;this.tForm.errorDecorator.start(this.tForm);for(let e=0;e<this.tForm.controls.length;e++)this.verifyControl(this.tForm.controls[e],this.tForm)||(t=!1);return t||this.tForm.errorDecorator.end(),t},verifyControl:function(e,t){let r;if("function"==typeof e.getValue)r=e.getValue();else{let i=t.element.elements[e.name];if(!i)return!0;r=this.getValue(i)}if(null===r||!1===r){if(e.required)return t.errorDecorator.addError(e,1),!1}else if(!e.check(r,t))return"getChild"in e||t.errorDecorator.addError(e,2),!1;return!0},getValue:function(e){if(e.nodeType){let t,r=[];switch(e.nodeName.toLowerCase()){case"input":if("checkbox"===e.getAttribute("type"))return e.checked;case"textarea":return t=i().trim(e.value),""!==t?t:null;case"select":if(!e.multiple)return""!==e.value?e.value:null;for(let t=0;t<e.options.length;t++)e.options[t].selected&&r.push(e.options[t].value);return r.length?r:null}}else if(this.isCollection(e)){let t=[];for(let r=0;r<e.length;r++){let i=e[r];i.checked&&t.push(i.value)}if(t.length)return"radio"===e[0].getAttribute("type")?t[0]:t}return null},hasClass:function(e,t){return i()(e).hasClass(t)},addClass:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)i()(e[r]).addClass(t);else i()(e).addClass(t)},removeClass:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)i()(e[r]).removeClass(t);else i()(e).removeClass(t)},setAttribute:function(e,t,r){if(this.isCollection(e))for(let i=0;i<e.length;i++)e[i].setAttribute(t,r);else e.setAttribute(t,r)},removeAttribute:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)e[r].removeAttribute(t);else e.removeAttribute(t)},isCollection:function(e){return"undefined"!=typeof HTMLCollection&&e instanceof HTMLCollection||"undefined"!=typeof NodeList&&e instanceof NodeList||e instanceof Array||void 0!==e.length&&(void 0===e.localName||"select"===e.localName.toLowerCase())}},n=s;function a(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.items={},this.readOnly=!1}function l(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function o(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this._masterControl=e.replace(/_confirm$/,"")}function d(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.multiFields=!1,this.minDate=null,this.maxDate=null,this.readOnly=!1}function h(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minDate=null,this.maxDate=null,this.multiFields=!1,this.readOnly=!1}function m(e,t){this.name=e,this.label=t,this.required=!1,this.minValue=-1,this.maxValue=-1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function u(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function c(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1,this.children=[],this.hasCheckbox=!1}function f(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function p(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.readOnly=!1}function v(e,t){this.name=e,this.label=t,this.required=!1,this.minValue=-1,this.maxValue=-1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function b(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function g(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function C(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.lang="",this.readOnly=!1}function y(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.lang="",this.readOnly=!1}function _(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.regexp=null,this.readOnly=!1}function j(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.regexp=null,this.readOnly=!1}function F(e,t){this.name=e,this.label=t,this.multiFields=!1,this.required=!1,this.errInvalid="",this.errRequired="",this.minTime=null,this.maxTime=null,this.readOnly=!1}function I(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired=""}function A(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function x(){this.message=""}function k(){this.message=""}function D(e,t,r){this.selector=t,this.formId=r,this.name=e,this.controls=[],this.errorDecorator=new k,this.element=i()("#"+e).get(0),this.allDependencies={},this.updateInProgress=!1,this.controlsToUpdate=[],this.preSubmitHandlers=[],this.postSubmitHandlers=[],this.isSubmitWithXhr=!1,this.xhrValidFormCallback=null,this.xhrFormInErrorCallback=null}a.prototype={addControl:function(e,t){void 0===this.items[t]&&(this.items[t]=[]),e&&(this.items[t].push(e),e.formName=this.formName)},getChild:function(e){for(var t in this.items)for(var r=0;r<this.items[t].length;r++){var i=this.items[t][r];if(i.name==e)return i}return null},check:function(e,t){if(null==this.items[e])return!1;for(var r=this.items[e],i=!0,s=0;s<r.length;s++)n.verifyControl(r[s],t)||(i=!1);return i},activate:function(e){var t=document.getElementById(this.formName);for(var r in this.items){var i=this.items[r],s=document.getElementById(this.formName+"_"+this.name+"_"+r+"_item");s&&(e==r?(n.addClass(s,"jforms-selected"),n.removeClass(s,"jforms-notselected")):(n.removeClass(s,"jforms-selected"),n.addClass(s,"jforms-notselected")));for(var a=0;a<i.length;a++){var l=i[a];if("function"!=typeof l.deactivate){var o=t.elements[l.name];e!=r||l.readOnly?(n.setAttribute(o,"disabled","disabled"),n.addClass(o,"jforms-disabled")):(n.removeAttribute(o,"disabled"),n.removeClass(o,"jforms-disabled"))}else l.readOnly?l.deactivate(!0):l.deactivate(e!=r)}}}},l.prototype.check=function(e,t){return-1!=e.search(/^#[a-f0-9A-F]{6}$/)},o.prototype.check=function(e,t){return n.getValue(t.element.elements[this._masterControl])===e},d.prototype.check=function(e,t){let r=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(null==r)return!1;let i=parseInt(r[1],10),s=parseInt(r[2],10)-1,n=parseInt(r[3],10),a=new Date(i,s,n,0,0,0);return i==a.getFullYear()&&s==a.getMonth()&&n==a.getDate()&&!(null!==this.minDate&&e<this.minDate||null!==this.maxDate&&e>this.maxDate)},d.prototype.getValue=function(){if(!this.multiFields){let e=i().trim(i()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}let e="#"+this.formName+"_"+this.name,t=i()(e+"_year").val()+"-"+i()(e+"_month").val()+"-"+i()(e+"_day").val();return"--"===t?null:t},d.prototype.deactivate=function(e){let t="#"+this.formName+"_"+this.name;e?this.multiFields?(i()(t+"_year").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_month").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_day").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!1)):i()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(i()(t+"_year").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_month").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_day").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!0)):i()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},h.prototype.check=function(e,t){let r=e.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;let i=parseInt(r[1],10),s=parseInt(r[2],10)-1,n=parseInt(r[3],10),a=parseInt(r[4],10),l=parseInt(r[5],10),o=0;null!=r[7]&&""!=r[7]&&(o=parseInt(r[7],10));let d=new Date(i,s,n,a,l,o);return i==d.getFullYear()&&s==d.getMonth()&&n==d.getDate()&&a==d.getHours()&&l==d.getMinutes()&&o==d.getSeconds()&&!(null!==this.minDate&&e<this.minDate||null!==this.maxDate&&e>this.maxDate)},h.prototype.getValue=function(){if(!this.multiFields){let e=i().trim(i()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}let e="#"+this.formName+"_"+this.name,t=i()(e+"_year").val()+"-"+i()(e+"_month").val()+"-"+i()(e+"_day").val()+" "+i()(e+"_hour").val()+":"+i()(e+"_minutes").val(),r=i()("#"+this.formName+"_"+this.name+"_seconds");if("hidden"!==r.attr("type")){if(t+=":"+r.val(),"-- ::"===t)return null}else if("-- :"===t)return null;return t},h.prototype.deactivate=function(e){let t="#"+this.formName+"_"+this.name;e?this.multiFields?(i()(t+"_year").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_month").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_day").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_hour").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_minutes").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_seconds").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!1)):i()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(i()(t+"_year").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_month").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_day").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_hour").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_minutes").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_seconds").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!0)):i()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},m.prototype.check=function(e,t){return!(-1==e.search(/^\s*[+-]?\d+(\.\d+)?\s*$/)||-1!=this.minValue&&parseFloat(e)<this.minValue||-1!=this.maxValue&&parseFloat(e)>this.maxValue)},u.prototype.check=function(e,t){return-1!=e.search(/^(("[^"f\n\r\t\b]+")|([\w!#$%&'*+-~/^`|{}]+(\.[\w!#$%&'*+-~/^`|{}]+)*))@((\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\.)+[A-Za-z-]+))$/)},c.prototype={addControl:function(e,t){this.children.push(e),e.formName=this.formName},getChild:function(e){for(var t=0;t<this.children.length;t++){var r=this.children[t];if(r.name==e)return r}return null},check:function(e,t){if(this.hasCheckbox&&!document.getElementById(this.formName+"_"+this.name+"_checkbox").checked)return!0;for(var r=!0,i=0;i<this.children.length;i++)n.verifyControl(this.children[i],t)||(r=!1);return r},activate:function(e){var t=document.getElementById(this.formName+"_"+this.name+"_checkbox");t&&(e?t.setAttribute("checked","true"):t.removeAttribute("checked"),this.showActivate())},showActivate:function(){var e=document.getElementById(this.formName+"_"+this.name+"_checkbox");if(this.hasCheckbox&&e){var t=document.getElementById(this.formName+"_"+this.name),r=document.getElementById(this.formName),i=e.checked;i?n.removeClass(t,"jforms-notselected"):n.addClass(t,"jforms-notselected");for(var s=0;s<this.children.length;s++){var a=this.children[s];if("function"!=typeof a.deactivate){var l=r.elements[a.name];i&&!a.readOnly?(n.removeAttribute(l,"disabled"),n.removeClass(l,"jforms-disabled")):(n.setAttribute(l,"disabled","disabled"),n.addClass(l,"jforms-disabled"))}else a.readOnly?a.deactivate(!0):a.deactivate(!i)}}}},f.prototype.check=function(e,t){return-1!=e.search(/^0x[a-f0-9A-F]+$/)},p.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength||-1!=this.maxLength&&e.length>this.maxLength)},p.prototype.getValue=function(){var e=n.getForm(this.formName).element.elements[this.name];if(!e)return null;var t=n.getValue(e);return null==t?null:(t=(t=(t=t.replace(/<(img|object|video|svg|embed)[^>]*>/gi,"TAG")).replace(/<\/?[\S][^>]*>/gi,"")).replace(/&[a-z]+;/gi,""),""==(t=$.trim(t))?null:t)},v.prototype.check=function(e,t){return!(-1===e.search(/^\s*[+-]?\d+\s*$/)||-1!==this.minValue&&parseInt(e)<this.minValue||-1!==this.maxValue&&parseInt(e)>this.maxValue)},b.prototype.check=function(e,t){var r=e.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return!!r&&r[1]<256&&r[2]<256&&r[3]<256&&r[4]<256},g.prototype.check=function(e,t){return-1!=e.search(/^([a-f0-9]{1,4})(:([a-f0-9]{1,4})){7}$/i)},C.prototype.check=function(e,t){let r,i,s,n;if(0===this.lang.indexOf("fr_")){if(n=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/),null==n)return!1;r=parseInt(n[3],10),i=parseInt(n[2],10)-1,s=parseInt(n[1],10)}else{if(n=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/),null==n)return!1;r=parseInt(n[3],10),i=parseInt(n[1],10)-1,s=parseInt(n[2],10)}let a=new Date(r,i,s,0,0,0);return r==a.getFullYear()&&i==a.getMonth()&&s==a.getDate()},y.prototype.check=function(e,t){let r,i,s,n,a,l,o;if(0===this.lang.indexOf("fr_")){if(o=e.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})(:(\d{2}))?$/),null==o)return!1;r=parseInt(o[3],10),i=parseInt(o[2],10)-1,s=parseInt(o[1],10),n=parseInt(o[4],10),a=parseInt(o[5],10),l=0,null!=o[7]&&(l=parseInt(o[7],10))}else{if(o=e.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})(:(\d{2}))?$/),null==o)return!1;r=parseInt(o[3],10),i=parseInt(o[1],10)-1,s=parseInt(o[2],10),n=parseInt(o[4],10),a=parseInt(o[5],10),l=0,null!=o[7]&&(l=parseInt(o[7],10))}var d=new Date(r,i,s,n,a,l);return r==d.getFullYear()&&i==d.getMonth()&&s==d.getDate()&&n==d.getHours()&&a==d.getMinutes()&&l==d.getSeconds()},_.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength||-1!=this.maxLength&&e.length>this.maxLength||this.regexp&&!this.regexp.test(e))},j.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength||-1!=this.maxLength&&e.length>this.maxLength||this.regexp&&!this.regexp.test(e))},F.prototype.check=function(e,t){var r=e.match(/^(\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;var i=parseInt(r[1],10),s=parseInt(r[2],10),n=0;null!=r[4]&&(n=parseInt(r[4],10));var a=new Date(2007,5,2,i,s,n);return i==a.getHours()&&s==a.getMinutes()&&n==a.getSeconds()},F.prototype.getValue=function(){if(!this.multiFields){var e=i().trim(i()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}var t="#"+this.formName+"_"+this.name,r=i()(t+"_hour").val()+":"+i()(t+"_minutes").val(),s=i()("#"+this.formName+"_"+this.name+"_seconds");if("hidden"!==s.attr("type")){if("::"==(r+=":"+s.val()))return null}else if(":"==r)return null;return r},F.prototype.deactivate=function(e){var t="#"+this.formName+"_"+this.name;e?this.multiFields?(i()(t+"_hour").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_minutes").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_seconds").attr("disabled","disabled").addClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!1)):i()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(i()(t+"_hour").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_minutes").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_seconds").removeAttr("disabled").removeClass("jforms-disabled"),i()(t+"_hidden").trigger("jFormsActivateControl",!0)):i()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},I.prototype.check=function(e,t){var r=e.match(/^(\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;var i=parseInt(r[1],10),s=parseInt(r[2],10),n=0;null!=r[4]&&(n=parseInt(r[4],10));var a=new Date(2007,5,2,i,s,n);return i==a.getHours()&&s==a.getMinutes()&&n==a.getSeconds()&&!(null!==this.minTime&&e<this.minTime||null!==this.maxTime&&e>this.maxTime)},A.prototype.check=function(e,t){return-1!=e.search(/^[a-z]+:\/\/((((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\.)+[A-Za-z-]+))((\/)|$)/)},x.prototype={start:function(e){this.message=""},addError:function(e,t){this.message+=1==t?"* "+e.errRequired+"\n":2==t?"* "+e.errInvalid+"\n":"* Error on '"+e.label+"' field\n"},end:function(){""!=this.message&&alert(this.message)},clean:function(){}},k.prototype={start:function(e){this.clean(),this.form=e},addError:function(e,t){var r=this.form.element.elements[e.name];r&&r.nodeType&&i()(r).addClass("jforms-error");var s=e.name.replace(/\[\]/,"");i()("#"+this.form.name+"_"+s+"_label").addClass("jforms-error"),this.message+=1===t?'<li class="error"> '+e.errRequired+"</li>":2===t?'<li class="error"> '+e.errInvalid+"</li>":"string"==typeof t?'<li class="error"> '+t+"</li>":'<li class="error"> Error on \''+e.label+"' </li>"},end:function(){var e=this.form.name+"_errors",t=document.getElementById(e);if(""!=this.message){t||((t=document.createElement("ul")).setAttribute("class","jforms-error-list"),t.setAttribute("id",e),i()(this.form.element).first().before(t));var r=i()(t);"scrollIntoView"in t?t.scrollIntoView():location.hash="#"+e,r.hide().html(this.message).fadeIn()}else t&&i()(t).hide()},clean:function(){this.message="",this.form&&(i()("#"+this.form.name+" .jforms-error").removeClass("jforms-error"),i()("#"+this.form.name+"_errors").empty().hide()),this.form=null},showSubmitError:function(e){this.message='<li class="error">'+e+"</li>"}},D.prototype={addControl:function(e){this.controls.push(e),e.formName=this.name},setErrorDecorator:function(e){this.errorDecorator=e},submitWithXHR:function(e,t){this.isSubmitWithXhr=!0,this.xhrValidFormCallback=e,this.xhrFormInErrorCallback=t},getControl:function(e){for(var t=this.controls,r=0;r<t.length;r++){if(t[r].name==e)return t[r];if(t[r].getChild){var i=t[r].getChild(e);if(i)return i}}return null},declareDynamicFill:function(e){var t=this.getControl(e);if(t.dependencies)for(var r=this,s=0;s<t.dependencies.length;s++){var n=t.dependencies[s],a=this.element.elements[n];void 0===this.allDependencies[n]?(this.allDependencies[n]=[e],i()(a).change((function(){r.updateLinkedElements(n)}))):this.allDependencies[n].push(e)}},updateDynamicList:function(e){this.getControl(e).dependencies&&(this.controlsToUpdate.push(e),this.dynamicFillAjax())},updateLinkedElements:function(e){this.updateInProgress||(this.updateInProgress=!0,this.buildOrderedControlsList(e),this.dynamicFillAjax())},buildOrderedControlsList:function(e){this.controlsToUpdate=[];var t=[],r=[],i=this,s=function(e){if(!0===r[e])throw"Circular reference !";r[e]=!0;var n=i.allDependencies[e];if(void 0!==n)for(var a=0;a<n.length;a++)!0!==t[n[a]]&&s(n[a]);r[e]=!1,t[e]=!0,i.controlsToUpdate.push(e)},n=this.allDependencies[e];if(void 0!==n)for(var a=0;a<n.length;a++)r=[],!0!==t[n[a]]&&s(n[a])},dynamicFillAjax:function(){var e=this.controlsToUpdate.pop();if(!e)return this.updateInProgress=!1,void(this.controlsToUpdate=[]);var t=this.getControl(e),r=this.element.elements.__JFORMS_TOKEN__;r=void 0===r?"":r.value;for(var s={__form:this.selector,__formid:this.formId,__JFORMS_TOKEN__:r,__ref:t.name.replace("[]","")},a=0;a<t.dependencies.length;a++){var l=t.dependencies[a];s[l]=n.getValue(this.element.elements[l])}var o=this.element.elements[t.name],d=o.value,h=this;i().post(n.selectFillUrl,s,(function(e){if(o.nodeType&&"select"==o.nodeName.toLowerCase()){var t=i()(o).eq(0),r=t.children('option[value=""]').detach();t.empty(),r&&t.append(r),i().each(e,(function(e,s){if(!r||""!==s.value)if("object"==typeof s.items){t.append('<optgroup label="'+s.label+'"/>');var n=t.children('optgroup[label="'+s.label+'"]').eq(0);i().each(s.items,(function(e,t){n.append('<option value="'+t.value+'"'+(t.value==d?' selected="selected"':"")+">"+t.label+"</option>")}))}else t.append('<option value="'+s.value+'"'+(s.value==d?' selected="selected"':"")+">"+s.label+"</option>")}))}h.controlsToUpdate.length?h.dynamicFillAjax():h.updateInProgress=!1}),"json")},addSubmitHandler:function(e,t){t?this.preSubmitHandlers.push(e):this.postSubmitHandlers.push(e)},setErrors:function(e){let t=this,r=this.errorDecorator;r.start(this),Object.keys(e).forEach((i=>r.addError(t.getControl(i),e[i]))),r.end()},showSubmitError:function(e){this.errorDecorator.start(this),this.errorDecorator.showSubmitError(e),this.errorDecorator.end()}};var q={jFormsJQ:n,jFormsJQForm:D,jFormsJQErrorDecoratorHtml:k,jFormsJQErrorDecoratorAlert:x,jFormsJQControlUrl:A,jFormsJQControlTime:I,jFormsJQControlTime2:F,jFormsJQControlString:j,jFormsJQControlSecret:_,jFormsJQControlLocaleDatetime:y,jFormsJQControlLocaleDate:C,jFormsJQControlIpv6:g,jFormsJQControlIpv4:b,jFormsJQControlInteger:v,jFormsJQControlHtml:p,jFormsJQControlHexadecimal:f,jFormsJQControlGroup:c,jFormsJQControlEmail:u,jFormsJQControlDecimal:m,jFormsJQControlDatetime:h,jFormsJQControlDate:d,jFormsJQControlConfirm:o,jFormsJQControlColor:l,jFormsJQControlChoice:a,jFormsJQControlBoolean:t};for(var E in q)window[E]=q[E]})();
//# sourceMappingURL=jforms_jquery.js.map